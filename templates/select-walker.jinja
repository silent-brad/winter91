{% extends "partials/_master.jinja" %}

{% block title %}Select Walker{% endblock %}

{% block content %}
<article>
  <div class="welcome-text">
    <h1>Choose Your Walker</h1>
    <p>Select which walker account you'd like to use for this session.</p>
  </div>

  {% if success_message.is_some() %}
  <div class="success" style="background-color: var(--success-oklch-500); color: var(--neutral-oklch-50); padding: 1rem; border-radius: 0.375rem; margin-bottom: 1rem;">
    {{ success_message.get() }}
  </div>
  {% endif %}

  {% if error_message.is_some() %}
  <div class="error" style="background-color: var(--error-oklch-500); color: var(--neutral-oklch-50); padding: 1rem; border-radius: 0.375rem; margin-bottom: 1rem;">
    {{ error_message.get() }}
  </div>
  {% endif %}

  <div class="grid">
    <div>
      {% if walkers.len > 0 %}
      {% for walker in walkers %}
      <a href="/switch-walker/{{ walker.id }}" class="walker-card">
        {% let name = walker.name %}
        {% let avatar_filename = walker.avatar_filename %}
        {% importnimja "partials/_walker_avatar.jinja" %}
        <div style="font-size: 1.5rem; opacity: 0.5;">â†’</div>
      </a>
      {% endfor %}

      <a href="/add-walker" class="add-walker-btn">
        <div style="font-size: 2rem; margin-bottom: 0.5rem;">+</div>
        <strong>Add New Walker</strong>
        <br>
        <small>Create a new walker account for another family member</small>
      </a>
      {% else %}
      <p>No walker accounts found. Let's create your first one!</p>
      <a href="/add-walker" class="add-walker-btn">
        <div style="font-size: 2rem; margin-bottom: 0.5rem;">+</div>
        <strong>Create Your First Walker</strong>
        <br>
        <small>Start tracking your miles by creating a walker account</small>
      </a>
      {% endif %}
    </div>
  </div>
</article>
