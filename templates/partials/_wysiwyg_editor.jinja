<!-- WYSIWYG Editor -->
<div style="background-color: var(--color-surface); padding: 1.5rem; border-radius: 0.375rem; margin-bottom: 2rem;">
	<h3>Create a Post</h3>
	<form hx-post="/post" hx-target="#post-response" hx-swap="innerHTML" hx-encoding="multipart/form-data" id="post-form">
		<label for="text_content">
			<!-- WYSIWYG Toolbar -->
			<div id="wysiwyg-toolbar" style="border: 1px solid var(--color-border); border-bottom: none; border-radius: 0.375rem 0.375rem 0 0; padding: 0.5rem; background: var(--color-background); display: flex; flex-wrap: wrap; gap: 0.25rem;">
				<button type="button" onclick="formatText('bold')" title="Bold" class="toolbar-btn" style="padding: 0.25rem 0.5rem; font-weight: bold; cursor: pointer; border: 1px solid var(--color-border); border-radius: 0.25rem; background: var(--color-background);">B</button>
				<button type="button" onclick="formatText('italic')" title="Italic" class="toolbar-btn" style="padding: 0.25rem 0.5rem; font-style: italic; cursor: pointer; border: 1px solid var(--color-border); border-radius: 0.25rem; background: var(--color-background);">I</button>
				<button type="button" onclick="formatText('underline')" title="Underline" class="toolbar-btn" style="padding: 0.25rem 0.5rem; text-decoration: underline; cursor: pointer; border: 1px solid var(--color-border); border-radius: 0.25rem; background: var(--color-background);">U</button>
				<button type="button" onclick="formatText('blockquote')" title="Quote" class="toolbar-btn" style="padding: 0.25rem 0.5rem; cursor: pointer; border: 1px solid var(--color-border); border-radius: 0.25rem; background: var(--color-background);">"</button>
				<button type="button" onclick="insertLink()" title="Link" class="toolbar-btn" style="padding: 0.25rem 0.5rem; cursor: pointer; border: 1px solid var(--color-border); border-radius: 0.25rem; background: var(--color-background);">
          <svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
          </svg>
        </button>
			</div>
			
			<div
				id="text_content_editor"
				contenteditable="true"
				style="border: 1px solid var(--color-border); border-radius: 0 0 0.375rem 0.375rem; padding: 0.5rem; min-height: 150px; background: var(--color-background);"
				placeholder="Post text here..."
			></div>
			
			<textarea
				id="text_content"
				name="text_content"
				style="display: none;"
			></textarea>
		</label>
		
		<label for="image">
			Add picture (optional)
			<input
				type="file"
				id="image"
				name="image"
				accept="image/*"
			>
		</label>
		
    <br/>
		<button type="submit" onclick="updateHiddenTextarea()">Post</button>
	</form>
	<div id="post-response"></div>
</div>
