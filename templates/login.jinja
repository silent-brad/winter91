{% extends "partials/_master.jinja" %}

{% block title %}Log In{% endblock %}

{% block content %}
<article class="form-container">
  <header>
	<h1>Log In</h1>
	<p>Welcome back to Winter 100!</p>
  </header>

  {% if error_message.is_some() %}
	<div class="error">
	  {{error_message.get()}}
	</div>
  {% endif %}

  {% if success_message.is_some() %}
	<div class="success">
	  {{success_message.get()}}
	</div>
  {% endif %}

  <div id="message-container"></div>

  <form method="post" action="/login" hx-post="/login" hx-target="#message-container" hx-swap="innerHTML">
    <label for="email">
      Email
      <input 
        type="email" 
        id="email" 
        name="email" 
        placeholder="Enter your email"
        {% if email.is_some() %}value="{{email.get()}}"{% endif %}
        required
        autofocus
      >
    </label>

    <label for="password">
      Password
      <input 
        type="password" 
        id="password" 
        name="password" 
        placeholder="Enter your password"
        required
      >
    </label>

    <button type="submit">Log In</button>
  </form>

  <footer class="text-center">
	<p>
	  Don't have an account? 
	  <a href="/signup">Sign up here</a>
	</p>
  </footer>
</article>
{% endblock %}
